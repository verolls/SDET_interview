# 概括

## OSI的七层模型分别是什么?各自的功能是什么？
- 第一层：物理层：底层数据传输，如网线；网卡标准。 

- 第二层：数据链路层：定义数据的基本格式，如何传输，如何标识；如网卡MAC地址。

- 第三层：网络层：定义IP编址，定义路由功能；如不同设备的数据转发。

- 第四层：传输层：端到端传输数据的基本功能；如 TCP、UDP。

- 第五层：会话层：控制应用程序之间会话能力；如不同软件数据分发给不同软件。

- 第六层：表示层：数据格式标识，基本压缩加密功能。

- 第七层：应用层：各种应用软件，包括 Web 应用。

## TCP/IP的四层模型与OSI七层模型的对应关系是什么？
![在这里插入图片描述](https://img-blog.csdnimg.cn/254b9b1e4d944e2686b2878848df1146.png)

## 在浏览器地址栏输入一个URL后回车，背后会进行哪些技术步骤？

1. **浏览器解析URL**。浏览器通过解析URL，得到URL中的参数，将域名(目标服务器名称)和需要请求的资源分离开，从而了解到需要请求的是哪个服务器，请求的是服务器上的什么资源。
![在这里插入图片描述](https://img-blog.csdnimg.cn/1fcb10c33c834739ad7add3e86a38f0f.png)
1. **浏览器封装HTTP请求报文**。浏览器将解析URL得到的消息，封装成一个HTTP请求报文
![在这里插入图片描述](https://img-blog.csdnimg.cn/cd889dea0d6e439ca340c8720ce7974e.png)
3. **DNS域名解析获取IP地址**。将解析URL得到的目标服务器名称通过DNS进行解析，得到目标服务器的IP地址。
![在这里插入图片描述](https://img-blog.csdnimg.cn/f4f6041bd414467f8a434a43da7580a2.png)
4. **建立TCP连接**。到这一步时，已经获取到了目标服务器的IP地址，就可以开始发送封装好了的HTTP请求报文了。既然要发送请求，就需要TCP协议通过三次握手为浏览器和服务器之间建立可靠的连接。
![在这里插入图片描述](https://img-blog.csdnimg.cn/2da91637da17466799236cf06fe37234.png)
5. **浏览器通过TCP建立的连接，发送HTTP请求报文至网络层**。TCP三次握手完成后，浏览器与目标服务器之间就建立了一个可靠的通道，这时浏览器就可以发送自己的HTTP请求了。TCP在执行连接、收发数据、断开等各阶段操作时，都是通过IP协议进行传输的，IP协议将这些阶段的数据添加IP首部封装成IP数据报再进行传输。首先传送至网络层。
6. **网络层利用ARP协议，根据IP地址获取目标服务器的MAC地址，将报文发送给链路层，服务端将在链路层收到数据**。
7. **服务器响应请求**。服务端在链路层收到数据后，往上层发送，一直到应用层接收到浏览器发送来的HTTP请求报文，接着处理该HTTP请求报文并返回HTTP响应报文。
8. **浏览器根据响应报文内容显示界面**。浏览器接收到服务器返回的HTTP响应报文后，解析渲染并显示界面。


>参考：[经典面试题：在浏览器地址栏输入一个 URL 后回车，背后发生了什么](https://cloud.tencent.com/developer/article/1793846)


# 物理层

# 数据链路层

# 网络层

# 传输层

# 应用层

## DNS的解析过程(域名解析为IP地址)能说一下吗？
1. 首先搜索「浏览器的 DNS 缓存」，缓存中维护一张域名与 IP 地址的对应表；
2. 若没有命中，则继续搜索「操作系统的 DNS 缓存」；
3. 若仍然没有命中，则操作系统将域名发送至「本地域名服务器」，本地域名服务器查询自己的 DNS 缓存，查找成功则返回结果（注意：主机和本地域名服务器之间的查询方式是「递归查询」）；
4. 若本地域名服务器的 DNS 缓存没有命中，则本地域名服务器向上级域名服务器进行查询，通过以下方式进行「迭代查询」（注意：本地域名服务器和其他域名服务器之间的查询方式是迭代查询，防止根域名服务器压力过大）：
   - 首先本地域名服务器向「根域名服务器」发起请求，根域名服务器是最高层次的，它并不会直接指明这个域名对应的 IP 地址，而是返回顶级域名服务器的地址，也就是说给本地域名服务器指明一条道路，让他去这里寻找答案
   - 本地域名服务器拿到这个「顶级域名服务器」的地址后，就向其发起请求，获取「权限域名服务器」的地址
   - 本地域名服务器根据权限域名服务器的地址向其发起请求，最终得到该域名对应的 IP 地址
5. 本地域名服务器将得到的 IP 地址返回给操作系统，同时自己将 IP 地址缓存起来
6. 操作系统将 IP 地址返回给浏览器，同时自己也将 IP 地址缓存起来
7. 至此，浏览器就得到了域名对应的 IP 地址，并将 IP 地址缓存起来

![在这里插入图片描述](https://img-blog.csdnimg.cn/ec15a8b26cd849c4a87198cb400c89fc.png)


# 网络安全